MySQL Server 有一个称为查询优化器的模块，一条查询语句进行愈发解析之后就会被交给查询优化器来进行分析优化，优化的结果就是生成一个所谓的执行计划，这个执行计划表明了应该使用哪些索引，
表之间的连接顺序是啥样的，最后会按照执行计划中的步骤调用存储引擎提供的方法来执行真正的查询，并返回结果给用户。

### 访问方法的概念

对于单表的查询，执行方式大致分为两种：
- 使用全表扫描进行查询  
 这种执行方式就是把表的每一行记录都扫描一遍，把符合条件的记录加入结果中
- 使用索引进行查询  
 全表扫描的代价很大，使用索引扫描可能会加快查询的速度。索引又可以分为：
   - 针对主键或者唯一二级索引的等值查询
   - 针对普通二级索引的等值查询
   - 针对索引列的范围查询
   - 直接扫描整个索引

 把MySQL执行查询语句的方式称之为访问方法或者访问类型

#### const
有的时候可以通过主键列来定位一条记录，
```SQL
select * from tb where id = 1;
```
MySQL 会直接利用主键值在聚簇索引中定位到对应的记录。  

通过主键或者唯一二级索引列与常数的等值比较来定位一条记录是非常快的，称为 const,意思是常数级别的，代价低到忽略不计。
不过这种const访问方法只能在主键或者唯一二级索引列和一个常数等值比较时才有效，如果主键或者唯一二级索引是多列的话，索引中的每一列都需要与常数进行等值比较，const 才是有效的。

#### ref 

当我们对某个普通的二级索引与常数进行等值比较时，先通过二级索引来查询到对应的记录，然后再回表到聚簇索引中查找完整的用户记录。

ref 在二级索引等值比较匹配到的记录较少时效率还是很高的，如果二级索引匹配到的记录太多，那么回表的成本就太大了。

#### ref_or_null

```
SELECT * FROM single_table WHERE key1 = 'abc' OR key1 IS NULL;
```

#### range

对某个索引列进行范围查询时

#### index 

当查询语句满足两个条件
- 它的查询列全部包含在某个索引中，
- 搜索条件也在上述索引的同一个索引中

这种情况可以直接遍历索引的叶子节点记录来比较查询条件是否成立，把匹配到的二级索引记录列的值直接返回即可。由于二级索引的记录比聚簇索引小的多，而且这个过程也不需要回表操作，所以直接遍历二级索引比直接遍历聚簇索引的成本小很多。

#### all

全表扫描，对于 InnoDB来说也就是直接扫描聚簇索引。